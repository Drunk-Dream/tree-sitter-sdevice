===================
If
===================

#if @test@ == "1"
#define a 1
#define a 2
#elif @test@ == 2
#define a 1
#elif @test@ == "@test@"
#else
#define a 1
#endif

---

(source_file
  (sharp_if_top_statement
    condition: (expr
      (binop_expr
        (at_reference)
        (string
          (string_fragment))))
    consequence: (sharp_command_statement
      (define_micro
        (sharp_command_name)
        name: (identifier)
        value: (boolean)))
    consequence: (sharp_command_statement
      (define_micro
        (sharp_command_name)
        name: (identifier)
        value: (number)))
    alternative: (sharp_elif_top_clause
      condition: (expr
        (binop_expr
          (at_reference)
          (number)))
      consequence: (sharp_command_statement
        (define_micro
          (sharp_command_name)
          name: (identifier)
          value: (boolean))))
    alternative: (sharp_elif_top_clause
      condition: (expr
        (binop_expr
          (at_reference)
          (string
            (at_reference)))))
    alternative: (sharp_else_top_clause
      consequence: (sharp_command_statement
        (define_micro
          (sharp_command_name)
          name: (identifier)
          value: (boolean))))))

===================
Nested If
===================

#if @test@ == "1"
  #if @nested@ == "2"
    #define a 1
  #else
    #define b 2
  #endif
#else
  #define c 3
#endif

---

(source_file
  (sharp_if_top_statement
    condition: (expr
      (binop_expr
        (at_reference)
        (string
          (string_fragment))))
    consequence: (sharp_if_top_statement
      condition: (expr
        (binop_expr
          (at_reference)
          (string
            (string_fragment))))
      consequence: (sharp_command_statement
        (define_micro
          (sharp_command_name)
          name: (identifier)
          value: (boolean)))
      alternative: (sharp_else_top_clause
        consequence: (sharp_command_statement
          (define_micro
            (sharp_command_name)
            name: (identifier)
            value: (number)))))
    alternative: (sharp_else_top_clause
      consequence: (sharp_command_statement
        (define_micro
          (sharp_command_name)
          name: (identifier)
          value: (number))))))

===================
If without statements
===================

#if 1
#elif 0
#else
#endif

---

(source_file
  (sharp_if_top_statement
    condition: (expr
      (number))
    alternative: (sharp_elif_top_clause
      condition: (expr
        (number)))
    alternative: (sharp_else_top_clause)))
