===================
If
===================

#if @test@ == "1"
#define a 1
#define a 2
#elif @test@ == 2
#define a 1
#elif @test@ == "@test@"
#else
#define a 1
#endif

---

(source_file
  (sharp_command_statement
    (sharp_if_elif
      (sharp_command_name)
      condition: (binop_expr
        (at_reference)
        (string
          (string_fragment)))))
  (sharp_command_statement
    (define_micro
      (sharp_command_name)
      name: (identifier)
      value: (number)))
  (sharp_command_statement
    (define_micro
      (sharp_command_name)
      name: (identifier)
      value: (number)))
  (sharp_command_statement
    (sharp_if_elif
      (sharp_command_name)
      condition: (binop_expr
        (at_reference)
        (number))))
  (sharp_command_statement
    (define_micro
      (sharp_command_name)
      name: (identifier)
      value: (number)))
  (sharp_command_statement
    (sharp_if_elif
      (sharp_command_name)
      condition: (binop_expr
        (at_reference)
        (string
          (at_reference)))))
  (sharp_command_statement
    (sharp_else_endif
      (sharp_command_name)))
  (sharp_command_statement
    (define_micro
      (sharp_command_name)
      name: (identifier)
      value: (number)))
  (sharp_command_statement
    (sharp_else_endif
      (sharp_command_name))))

===================
Nested If
===================

#if @test@ == "1"
  #if @nested@ == "2"
    #define a 1
    #define a -1
  #else
    #define b 2
  #endif
#else
  #define c 3
#endif

---

(source_file
  (sharp_command_statement
    (sharp_if_elif
      (sharp_command_name)
      condition: (binop_expr
        (at_reference)
        (string
          (string_fragment)))))
  (sharp_command_statement
    (sharp_if_elif
      (sharp_command_name)
      condition: (binop_expr
        (at_reference)
        (string
          (string_fragment)))))
  (sharp_command_statement
    (define_micro
      (sharp_command_name)
      name: (identifier)
      value: (number)))
  (sharp_command_statement
    (define_micro
      (sharp_command_name)
      name: (identifier)
      value: (unary_expr
        (number))))
  (sharp_command_statement
    (sharp_else_endif
      (sharp_command_name)))
  (sharp_command_statement
    (define_micro
      (sharp_command_name)
      name: (identifier)
      value: (number)))
  (sharp_command_statement
    (sharp_else_endif
      (sharp_command_name)))
  (sharp_command_statement
    (sharp_else_endif
      (sharp_command_name)))
  (sharp_command_statement
    (define_micro
      (sharp_command_name)
      name: (identifier)
      value: (number)))
  (sharp_command_statement
    (sharp_else_endif
      (sharp_command_name))))

===================
If without statements
===================

#if 1
#elif 0
#else
#endif

---

(source_file
  (sharp_command_statement
    (sharp_if_elif
      (sharp_command_name)
      condition: (number)))
  (sharp_command_statement
    (sharp_if_elif
      (sharp_command_name)
      condition: (number)))
  (sharp_command_statement
    (sharp_else_endif
      (sharp_command_name)))
  (sharp_command_statement
    (sharp_else_endif
      (sharp_command_name))))
