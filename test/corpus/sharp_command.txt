===================
Define Micro
===================

#define _Vpass_ 8.0
#define _dt_    2.0e-4
#define _trise_ false
#define _test_  true
#define _at_reference_ @node|test@
#define _test_string_ "test"
#define _test_string_ "@test@"

---

(source_file
  (sharp_command
    (define_micro
      (identifier)
      (number)))
  (sharp_command
    (define_micro
      (identifier)
      (number)))
  (sharp_command
    (define_micro
      (identifier)
      (boolean)))
  (sharp_command
    (define_micro
      (identifier)
      (boolean)))
  (sharp_command
    (define_micro
      (identifier)
      (at_reference)))
  (sharp_command
    (define_micro
      (identifier)
      (string
        (string_fragment))))
  (sharp_command
    (define_micro
      (identifier)
      (string
        (at_reference)))))

===================
Undefine Micro
===================

#undef _Vpass_
#undef _dt_
#undef _trise_
#undef _test_
#undef _at_reference_
#undef _test_string_
#undef _test_string_ #comment

---

(source_file
  (sharp_command
    (undefine_macro
      (identifier)))
  (sharp_command
    (undefine_macro
      (identifier)))
  (sharp_command
    (undefine_macro
      (identifier)))
  (sharp_command
    (undefine_macro
      (identifier)))
  (sharp_command
    (undefine_macro
      (identifier)))
  (sharp_command
    (undefine_macro
      (identifier)))
  (sharp_command
    (undefine_macro
      (identifier)))
  (comment))

===================
Set Dependency
===================

#setdep @node|test@

---

(source_file
  (sharp_command
    (set_dep
      (at_reference))))

===================
Comment
===================

#test

---

(source_file
  (comment))

===================
If
===================

#if @test@ == "1"
#elif @test@ == 2
#elif @test@ == "@test@"
#endif

---

(source_file
  (sharp_command
    (if_command
      (expr
        (binop_expr
          (at_reference)
          (string
            (string_fragment))))))
  (sharp_command
    (if_command
      (expr
        (binop_expr
          (at_reference)
          (number)))))
  (sharp_command
    (if_command
      (expr
        (binop_expr
          (at_reference)
          (string
            (at_reference))))))
  (sharp_command
    (endif_command)))
