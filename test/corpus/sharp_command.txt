===================
Define Micro
===================

#define _Vpass_ 8.0
#define _dt_    2.0e-4
#define _trise_ false
#define _test_  true
#define _at_reference_ @node|test@
#define _test_string_ "test"
#define _test_string_ "@test@"

---

(source_file
  (define_micro
    (identifier)
    (number))
  (define_micro
    (identifier)
    (number))
  (define_micro
    (identifier)
    (boolean))
  (define_micro
    (identifier)
    (boolean))
  (define_micro
    (identifier)
    (at_reference))
  (define_micro
    (identifier)
    (string
      (string_fragment)))
  (define_micro
    (identifier)
    (string
      (at_reference))))

===================
Undefine Micro
===================

#undef _Vpass_
#undef _dt_
#undef _trise_
#undef _test_
#undef _at_reference_
#undef _test_string_
#undef _test_string_ #comment

---

(source_file
  (undefine_macro
    (identifier))
  (undefine_macro
    (identifier))
  (undefine_macro
    (identifier))
  (undefine_macro
    (identifier))
  (undefine_macro
    (identifier))
  (undefine_macro
    (identifier))
  (undefine_macro
    (identifier))
  (comment))

===================
Set Dependency
===================

#setdep @node|test@

---

(source_file
  (set_dep
    (at_reference)))

===================
Comment
===================

#test comment

---

(source_file
  (comment))

===================
If
===================

#if @test@ == "1"
ax
#elif @test@ == 2
bx
#elif @test@ == "@test@"
cx
#else
#endif

---

(source_file
  (top_sharp_if_block
    (if_command
      (expr
        (binop_expr
          (at_reference)
          (string
            (string_fragment)))))
    (identifier)
    (elif_command
      (expr
        (binop_expr
          (at_reference)
          (number))))
    (identifier)
    (elif_command
      (expr
        (binop_expr
          (at_reference)
          (string
            (at_reference)))))
    (identifier)
    (else_command)
    (endif_command)))
