===================
Whole File Square Reference
===================

#if @node@ <= @[lindex [list @node|TID@] 0]@
    #define _TuoxDConc_ @TuoxConc@
    #define _BlkoxDConc_ @BlkoxConc@
    #define _TuoxAConc_ @TuoxConc@
    #define _BlkoxAConc_ @BlkoxConc@
#elif (@node@ > @[lindex [list @node|TID@] 0]@) && (@node@ < @[lindex [list @node|anneal@] 0]@)
    #if @IsRad@ == 1
        #define _TuoxDConc_ @DoseTuoxDConc@
        #define _TuoxAConc_ @DoseTuoxAConc@
        #define _BlkoxDConc_ @DoseBlkoxDConc@
        #define _BlkoxAConc_ @DoseBlkoxAConc@
    #elif @IsRad@ == 0
        #define _TuoxDConc_ @TuoxConc@
        #define _BlkoxDConc_ @BlkoxConc@
    #endif
#elif @node@ >= @[lindex [list @node|anneal@] 0]@
    #if @IsRad@ == 1
        #define _TuoxDConc_ @AnnealTuoxDConc@
        #define _BlkoxDConc_ @AnnealBlkoxDConc@
    #elif @IsRad@ == 0
        #define _TuoxDConc_ @TuoxConc@
        #define _BlkoxDConc_ @BlkoxConc@
    #endif
#endif

---

(source_file
  (sharp_if_top_statement
    condition: (expr
      (binop_expr
        (at_reference)
        (at_square_expression
          (at_square_expression_open)
          (command
            name: (identifier)
            args: (command
              name: (identifier)
              args: (expr
                (at_reference)))
            args: (expr
              (number)))
          (at_square_expression_close))))
    consequence: (sharp_command_statement
      (define_micro
        (sharp_command_name)
        name: (identifier)
        value: (at_reference)))
    consequence: (sharp_command_statement
      (define_micro
        (sharp_command_name)
        name: (identifier)
        value: (at_reference)))
    consequence: (sharp_command_statement
      (define_micro
        (sharp_command_name)
        name: (identifier)
        value: (at_reference)))
    consequence: (sharp_command_statement
      (define_micro
        (sharp_command_name)
        name: (identifier)
        value: (at_reference)))
    alternative: (sharp_elif_top_clause
      condition: (expr
        (binop_expr
          (binop_expr
            (at_reference)
            (at_square_expression
              (at_square_expression_open)
              (command
                name: (identifier)
                args: (command
                  name: (identifier)
                  args: (expr
                    (at_reference)))
                args: (expr
                  (number)))
              (at_square_expression_close)))
          (binop_expr
            (at_reference)
            (at_square_expression
              (at_square_expression_open)
              (command
                name: (identifier)
                args: (command
                  name: (identifier)
                  args: (expr
                    (at_reference)))
                args: (expr
                  (number)))
              (at_square_expression_close)))))
      consequence: (sharp_if_top_statement
        condition: (expr
          (binop_expr
            (at_reference)
            (number)))
        consequence: (sharp_command_statement
          (define_micro
            (sharp_command_name)
            name: (identifier)
            value: (at_reference)))
        consequence: (sharp_command_statement
          (define_micro
            (sharp_command_name)
            name: (identifier)
            value: (at_reference)))
        consequence: (sharp_command_statement
          (define_micro
            (sharp_command_name)
            name: (identifier)
            value: (at_reference)))
        consequence: (sharp_command_statement
          (define_micro
            (sharp_command_name)
            name: (identifier)
            value: (at_reference)))
        alternative: (sharp_elif_top_clause
          condition: (expr
            (binop_expr
              (at_reference)
              (number)))
          consequence: (sharp_command_statement
            (define_micro
              (sharp_command_name)
              name: (identifier)
              value: (at_reference)))
          consequence: (sharp_command_statement
            (define_micro
              (sharp_command_name)
              name: (identifier)
              value: (at_reference))))))
    alternative: (sharp_elif_top_clause
      condition: (expr
        (binop_expr
          (at_reference)
          (at_square_expression
            (at_square_expression_open)
            (command
              name: (identifier)
              args: (command
                name: (identifier)
                args: (expr
                  (at_reference)))
              args: (expr
                (number)))
            (at_square_expression_close))))
      consequence: (sharp_if_top_statement
        condition: (expr
          (binop_expr
            (at_reference)
            (number)))
        consequence: (sharp_command_statement
          (define_micro
            (sharp_command_name)
            name: (identifier)
            value: (at_reference)))
        consequence: (sharp_command_statement
          (define_micro
            (sharp_command_name)
            name: (identifier)
            value: (at_reference)))
        alternative: (sharp_elif_top_clause
          condition: (expr
            (binop_expr
              (at_reference)
              (number)))
          consequence: (sharp_command_statement
            (define_micro
              (sharp_command_name)
              name: (identifier)
              value: (at_reference)))
          consequence: (sharp_command_statement
            (define_micro
              (sharp_command_name)
              name: (identifier)
              value: (at_reference))))))))
